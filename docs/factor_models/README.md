# 多因子选股系统使用说明

## 1. 系统概述

本系统实现了一个完整的多因子选股框架，包含因子分析、回测评估和选股三个主要模块。系统针对短期（1-2周）和中期（1-3个月）投资目标进行了优化，目标收益率分别为10%和30%。

## 2. 环境要求

- Python 3.8+
- qlib
- pandas
- numpy
- scipy

## 3. 安装步骤

1. 安装依赖：
```bash
pip install qlib pandas numpy scipy
```

2. 初始化qlib：
```bash
python -c "import qlib; qlib.init()"
```

## 4. 使用步骤

### 4.1 因子分析

1. 运行因子分析主程序：
```bash
python scripts/factor_analysis.py
```

2. 分析结果将保存在 `factor_analysis_results` 目录下，包含：
   - 因子分析报告（JSON格式）
   - 优化后的因子配置
   - 回测评估结果

### 4.2 选股

1. 运行选股程序：
```bash
python scripts/stock_selector.py
```

2. 选股结果将保存在 `stock_selection_results` 目录下，包含：
   - 短期选股列表（10只股票）
   - 中期选股列表（20只股票）
   - 股票得分详情

## 5. 配置说明

### 5.1 因子分析配置

在 `factor_analysis.py` 中可以调整以下参数：
- `start_time`：分析开始时间
- `end_time`：分析结束时间
- `instruments`：股票池（默认：csi500）
- `short_term_days`：短期目标天数（默认：10天）
- `mid_term_days`：中期目标天数（默认：60天）
- `target_short_return`：短期目标收益率（默认：10%）
- `target_mid_return`：中期目标收益率（默认：30%）
- `max_drawdown_threshold`：最大回撤阈值（默认：15%）

### 5.2 选股配置

在 `stock_selector.py` 中可以调整以下参数：
- `config_path`：因子配置文件路径
- `instruments`：股票池（默认：csi500）
- `max_stocks`：最大选股数量（默认：20）

## 6. 输出说明

### 6.1 因子分析报告

因子分析报告（JSON格式）包含以下内容：
- 总体表现摘要
- 目标收益达成情况
- 因子分析结果
- 风险分析
- 优化后的配置方案

### 6.2 选股结果

选股结果（JSON格式）包含以下内容：
- 选股日期
- 短期选股列表（10只）
- 中期选股列表（20只）
- 股票得分详情

## 7. 注意事项

1. 数据更新
   - 建议每日更新数据
   - 使用最新数据运行选股程序

2. 风险控制
   - 关注最大回撤指标
   - 定期检查因子表现
   - 及时调整配置参数

3. 性能优化
   - 可以调整回测周期
   - 可以修改股票池范围
   - 可以自定义因子权重

## 8. 常见问题

1. 数据问题
   - 检查数据源连接
   - 确认数据完整性
   - 验证数据质量

2. 性能问题
   - 检查计算资源
   - 优化代码效率
   - 调整参数配置

3. 结果问题
   - 验证因子有效性
   - 检查选股逻辑
   - 分析收益表现 